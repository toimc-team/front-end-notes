---
sidebarDepth: 2
---

# é¡¹ç›®é…ç½®

## é…ç½®æ–‡ä»¶

:::tip

é…ç½®æ–‡ä»¶çš„è·¯å¾„ï¼š`src/.vuepress/config.js`

:::

1. navé¡¶éƒ¨å¯¼èˆª

   ```js
   [
     {
       text: 'é¦–é¡µ',
       link: '/'
     },
     {
       text: 'åŸºç¡€å¼ºåŒ–',
       items: [
         {
           text: 'ç¯å¢ƒæ­å»º',
           items: [
             {
               text: 'Vue',
               link: '/basic/vue/'
             },
             {
               text: 'Node.js',
               link: '/basic/node/'
             },
             // ...
           ]
         },
         //....
       ]
     },
     // ...
   ]
   ```

   **è¯´æ˜ï¼š**

   - `text`ä¸ºæ ‡é¢˜æ–‡å­—
   - `items`ä¸ºå­é¡¹
   - `link`ä¸ºé“¾æ¥ï¼Œå¯ä»¥ä¸º`markdown`æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ä¸º`http(s)`é“¾æ¥

2. sidebarä¾§æ 

   ```
   const sidebar = {
     '/project/': [
       {
         title: 'å°ç¨‹åº',
         collapsable: false,
         children: genSidebarConfig('project/community-miniapp', siderBarOptions)
       },
       {
         title: 'React',
         collapsable: false,
         children: [
           'react/'
         ]
       }
     ],
     '/course/': [
       {
         title: 'vuepressä½¿ç”¨è§„èŒƒ',
         collapsable: false,
         children: genSidebarConfig('course/vuepress', siderBarOptions)
       },
       {
         title: 'åšæ–‡è§„èŒƒ',
         collapsable: false,
         children: genSidebarConfig('course/notes', siderBarOptions)
       }
     ],
     '/': [
       {
         title: 'é¦–é¡µ',
         collapsable: false
       }
     ]
   }
   ```

   **è¯´æ˜ï¼š**

   - é¦–é¡µä¸€å®šè¦æ”¾åœ¨æœ€åï¼›

   - `genSidebarConfig`æ˜¯ä¸€ä¸ªè‡ªåŠ¨è§£æç›®å½•çš„å‡½æ•°ï¼Œç›®å½•è¦æ±‚ï¼š

     ![image-20210419111401429](./assets/image-20210419111401429.png)

     å‚æ•°è¯´æ˜ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯`ä¸€çº§ç›®å½•/äºŒçº§ç›®å½•`ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è¿‡æ»¤æ¡ä»¶ + æ˜¯å¦æ˜¯äºŒçº§ç›®å½•çš„æ ‡è®°ä½`hasSub`ï¼š

     ```js
     const siderBarOptions = { hasSub: true, exclude: ['README.md', 'assets', '.DS_Store', 'docs', 'images'] }
     ```

     æƒ…å†µä¸€ï¼š

     å¦‚æœæ·»åŠ äº†ä¸€äº›éMarkdownçš„æ–‡ä»¶ï¼Œå¯ä»¥åœ¨ä¸Šé¢è¿™ä¸ªç›®å½•ä¸­æ·»åŠ ï¼Œç›¸å½“äºæ˜¯ignoreç›®å½•ï¼›

     æƒ…å†µäºŒï¼š

     å¦‚æœæ˜¯ä¸€çº§ç›®å½•ï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ªå±æ€§`hasSubï¼šfalse`ï¼Œæ¥è¦†ç›–é»˜è®¤çš„é…ç½®ï¼š

     ```
     genSidebarConfig('course', {...siderBarOptions, hasSub: false})
     ```



## æ‰“åŒ…ä¸éƒ¨ç½²

é¡¹ç›®å¼€å¯äº†github actionsï¼Œåªéœ€è¦æ¨é€åˆ°githubï¼Œä¼šè‡ªåŠ¨ï¼š

- å®Œæˆé¡¹ç›®çš„æ‰“åŒ… -> éƒ¨ç½²github pages
- åŒæ­¥giteeä»“åº“ä»£ç 
- åŒæ­¥gitee pagesï¼Œå¹¶å‘å¸ƒ



github actions`.github/workflows/master.yml`:

```yaml
name: Build Vuepress and Sync Gitee
on:
  push:
    branches: [ master ]
  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:
    
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Use Node.js
      uses: actions/setup-node@v1
      with:
        node-version: '14.x'

    # Caching dependencies to speed up workflows. (GitHub will remove any cache entries that have not been accessed in over 7 days.)
    - name: Cache node modules
      uses: actions/cache@v1
      id: cache
      with:
        path: node_modules
        key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}
        restore-keys: |
          ${{ runner.os }}-node-
    - name: Install Dependencies
      if: steps.cache.outputs.cache-hit != 'true'
      run: npm i

    # Vuepress Build.
    - name: Generates Pages
      run: |
        npm run build

    - name: Deploy Github PagesğŸš€
      uses: JamesIves/github-pages-deploy-action@4.1.0
      with:
        repository-name: toimc-team/notes-page # The branch the action should deploy to.
        branch: master
        folder: ./src/.vuepress/dist # The folder the action should deploy.
        ssh-key: ${{ secrets.DEPLOY_KEY }}

    - name: Sync to Gitee Page
      uses: wearerequired/git-mirror-action@master
      env:
        # æ³¨æ„åœ¨ Settings->Secrets é…ç½® GITEE_PRIVATE_KEY
        SSH_PRIVATE_KEY: ${{ secrets.GITEE_PRIVATE_KEY }}
      with:
        # æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ GitHub æºä»“åº“åœ°å€
        source-repo: git@github.com:toimc-team/notes-page.git
        # æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ç›®æ ‡ä»“åº“åœ°å€
        destination-repo: git@gitee.com:toimc/notes-page.git

    - name: Trigger Gitee Pages Auto Reload
      uses: yanglbme/gitee-pages-action@master
      with:
        # æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ç”¨æˆ·å
        gitee-username: toimc
        # æ³¨æ„åœ¨ Settings->Secrets é…ç½® GITEE_PASSWORD
        gitee-password: ${{ secrets.GITEE_PASSWORD }}
        # æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ä»“åº“ï¼Œä»“åº“åä¸¥æ ¼åŒºåˆ†å¤§å°å†™ï¼Œè¯·å‡†ç¡®å¡«å†™ï¼Œå¦åˆ™ä¼šå‡ºé”™
        gitee-repo: toimc/notes-page
```



åŒæ—¶åœ¨é¡¹ç›®çš„`package.json`æ–‡ä»¶ä¸­ï¼Œæä¾›äº†æœ¬åœ°çš„æ‰“åŒ…å‘½ä»¤`npm run build`ï¼Œéœ€è¦æ³¨æ„çº¿ä¸Šçš„publicè·¯å¾„ï¼Œå³`config.js`ä¸­çš„`base`å±æ€§ï¼š

```
base: process.env.NODE_ENV === 'development' ? '/' : '/notes-page/',
```

